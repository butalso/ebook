# MySQL篇

## 数据库基础知识
### 使用数据库系统的好处
1. 数据库系统中数据的共享性高，大大减少数据冗余，节约存储空间，避免数据之间的不相容性与不一致性，使得数据库系统弹性大，易于扩充。
2. 数据库系统的数据独立性高，把数据的定义从程序中分离出去，而存取数据的方法又由数据库管理系统负责提供，从而简化了应用程序的编制，大大减少了应用程序的维护和修改。
3. 数据库管理系统提供了数据的安全性保护、数据的完整性检查、并发控制、数据库恢复等数据控制功能，保证了数据的完整性和安全性，并在多用户同时使用数据库时进行并发控制，在发生故障后对数据库进行恢复。

### SQL语句分类
DQL、DDL、DML、DCL

### 超键、候选键主键、外键
* 超键(super key):在关系中能唯一标识元组的属性集称为关系模式的超键
* 候选键(candidate key):不含有多余属性的超键称为候选键
* 主键(primary key):用户选作元组标识的一个候选键程序主键
* 外键(foreign key)如果关系模式R1中的某属性集不是R1的主键，而是另一个关系R2的主键则该属性集是关系模式R1的外键。

### SQL约束有哪几种
primary key、unqiue key、foreign key、default、not null、 check

### 数据库三大范式
1. 第一范式(确保每列保持原子性): 第一范式是最基本的范式。如果数据库表中的所有字段值都是不可分解的原子值，就说明该数据库表满足了第一范式。
2. 第二范式(确保表中的每列都和主键相关): 第二范式在第一范式的基础之上更进一层。第二范式需要确保数据库表中的每一列都和主键相关，而不能只与主键的某一部分相关（主要针对联合主键而言）。也就是说在一个数据库表中，一个表中只能保存一种数据，不可以把多种数据保存在同一张数据库表中
3. 第三范式(确保每列都和主键列直接相关,而不是间接相关): 第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关。

### MySQL的binlog形式
* statement模式下，每一条会修改数据的sql都会记录在binlog中。不需要记录每一行的变化，减少了binlog日志量，节约了IO，提高性能。由于sql的执行是有上下文的，因此在保存的时候需要保存相关的信息，同时还有一些使用了函数之类的语句无法被记录复制。
* row级别下，不记录sql语句上下文相关信息，仅保存哪条记录被修改。记录单元为每一行的改动，基本是可以全部记下来但是由于很多操作，会导致大量行的改动(比如alter table)，因此这种模式的文件保存的信息太多，日志量太大。
* mixed，一种折中的方案，普通操作使用statement记录，当无法使用statement的时候使用row。

### MySQL的几种日志文件
* 错误日志：记录出错信息，也记录一些警告信息或者正确的信息。
* 查询日志：记录所有对数据库请求的信息，不论这些请求是否得到了正确的执行。
* 慢查询日志：设置一个阈值，将运行时间超过该值的所有SQL语句都记录到慢查询的日志文件中。
* 二进制日志：记录对数据库执行更改的所有操作。
* 中继日志：中继日志也是二进制日志，在主从复制中，从服务器将来自主服务器的二进制日志保存为中继日志，在主从复制中起到缓冲的作用。
* 事务日志：重做日志redo和回滚日志undo


### drop、delete、truncate的区别


1，innodb下，count(1) count(*) count(主键id)  count(非主键索引id)  效率排序
2，一条简单查询语句在mysql中是怎么执行的
3，一条update语句在mysql中怎么执行的
4，一个排序的查询语句在mysql中怎么执行的
5，mysql如何选的索引

## 存储引擎
### MySQL存储引擎InnoDB和MyISAM的比较
### InnoDB引擎的特性

## 表
### 什么是视图，物化视图，使用视图的优缺点
### MySQL如何实现物化视图
### 什么是存储过程，存储过程的优缺点

## 索引
### 索引的基本原理
### 索引算法有哪些
### InnoDB索引设计原则
### 使用索引查询一定能提高性能吗

## 锁
### MySQL有几种锁类型
### 什么是死锁？怎么解决
### 锁与事务隔离级别的关系，不同隔离级别会出现什么问题

## 事务
### 什么是事务
### 事务的四大特性
### MySQL事务实现机制

## SQL优化

## 数据库优化
### 复制的原理

## 参考链接
* <https://juejin.im/post/5cb6c4ef51882532b70e6ff0>
* <https://blog.csdn.net/ThinkWon/article/details/104778621>
* <https://www.cnblogs.com/linjiqin/archive/2012/04/01/2428695.html>

## 事务
数据库事务( transaction)是访问并可能操作各种数据项的一个数据库操作序列，这些操作要么全部执行,要么全部不执行，是一个不可分割的工作单位。事务由事务开始与事务结束之间执行的全部数据库操作组成。 [1] 
