## 缓存
### 作用（高性能和高并发）
* 最大程度避免对数据库的并发查询，从而降低因为数据库资源不足导致的新系统故障
* 提升速度响应速度，保证用户体验
* 如果系统使用到了数据库，但是没使用缓存，如果网站有很高的访问量，那么网站的可用状态极有可能是断断续续的。
### 分布式缓存 VS 本地缓存
#### 分布式缓存（redis，memcached）
* 分布式缓存用于集群环境下多节点使用同一份缓存的情况，从而减少数据库查询
* 分布式缓存有网络IO，因此，吞吐率与缓存数据大小有较大关系
* 分布式缓存网络IO导致的时间消耗不可忽略

#### 本地缓存 map
* 本地缓存非常高效，从分布式缓存取一次数据消耗的时间可以从本地缓存取几千几万甚至百万次
* 本地缓存在集群环境下存在不同节点数据不一致问题，因此，使用时需要考虑缓存的时效性，以及缓存数据对不一致的敏感程度

#### 缓存时效性
* 不同场景对同一份数据的时效性有差异，比如商品库存，在页面展示是否可以购买时可以有短暂的缓存，但是订单提交时必须是实时的数据
* 不同数据时效性不一样，比如商品属性时效性要求较低，商品价格和库存的时效性要求就比较高。

#### 本地缓存+分布式缓存构建高性能网站
* 使用本地缓存做一级缓存，减少分布式缓存的访问量（网络IO带宽消耗和IO传输时间）
* 使用分布式缓存做二级缓存，减少集群环境下访问数据库的次数